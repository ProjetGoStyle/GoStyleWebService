<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>GoStyle</title>

    <link href="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

</head>
<body>
<div class="container login-container">
    <div class="row">
        <div class="col-md-6 offset-md-3 connexion-form">
            <h3>Connexion</h3>
            <form id="loginForm">
                <div class="form-group">
                    <input type="text" id="login" name="login" class="form-control" placeholder="Votre nom de compte" value=""/>
                </div>
                <div class="form-group">
                    <input type="password" id="password" name="password" class="form-control" placeholder="Votre mot de passe"
                           value=""/>
                </div>
                <div class="form-group">
                    <input type="submit" class="btnSubmit" name="connexion" value="Connexion"/>
                </div>
            </form>
        </div>
    </div>
</div>
<script>
    const loginInput = document.querySelector('#login');
    const passwordInput = document.querySelector('#password');
    const loginForm = document.querySelector('#loginForm');
    loginForm.onsubmit = (event) => {
        event.preventDefault();
        const xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function () {
            if (this.readyState === 4 && this.status === 200) {
                //const code = JSON.parse(this.response);
            }
        };
        xhttp.open('POST', '/login', true);
        xhttp.setRequestHeader('Content-Type', 'application/json');
        const formData = {
            login: loginInput.value,
            password: passwordInput.value
        };
        xhttp.send(JSON.stringify(formData));
    };
</script>
</body>
</html>


